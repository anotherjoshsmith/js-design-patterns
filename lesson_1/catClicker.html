<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Cat Clicker *Premium*</title>
</head>
<body>
    <script>
        var header = document.createElement('H1');
        header.textContent = 'click my name, i haz pic :)';
        document.body.appendChild(header);

        var list = document.createElement('UL');
        list.setAttribute('id', 'cat-list');
        document.body.appendChild(list);

        var cats = ['steve', 'steph', 'bill', 'will', 'ed'];

        var idx;
        for (idx in cats) {
            // create cat list
            var cat_name = document.createTextNode(cats[idx]);
            var node = document.createElement('LI');
            node.appendChild(cat_name);
            node.setAttribute('id', cats[idx]);
            node.setAttribute('onclick', 'toggleKitty(this.id)');
            list.appendChild(node);

            // create div for each kitty
            var div = document.createElement('DIV');
            div.setAttribute('id', cats[idx] + '-div');
            div.style.display = 'none';
            // create header w/ cat name
            var header = document.createElement('H3');
            var name_text = document.createTextNode(cats[idx]);
            header.appendChild(name_text);
            // create click counter
            var clicks = document.createElement('P');
            var click_text = document.createTextNode('Clicks: ');
            clicks.appendChild(click_text);
            var counter = document.createElement('A');
            counter.setAttribute('id', 'count-' + idx);
            var count_text = document.createTextNode('0');
            counter.appendChild(count_text);
            clicks.appendChild(counter);
            // add pretty pic by name
            var pic = document.createElement('IMG');
            pic.setAttribute('src', 'img/' + cats[idx] + '.jpg');
            pic.setAttribute('id', 'cat-' + idx);

            // add event listener to pic
            var count = 0;

            pic.addEventListener('click', (function(numCopy, idxCopy) {
                return function() {
                    numCopy += 1;
                    document.getElementById('count-' + idxCopy).innerHTML = numCopy;
                };
            })(count, idx));

            // add all our elements to the html
            div.appendChild(header);
            div.appendChild(clicks);
            div.appendChild(pic);

            document.body.appendChild(div);
        }

        function toggleKitty(name) {
            console.log(name);
            var x = document.getElementById(name + '-div');
            if (x.style.display === "none") {
                x.style.display = "block";
            } else {
                x.style.display = "none";
            }
        }
    </script>
</body>
</html>